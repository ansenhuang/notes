# 线上发布

在fle项目工程的根目录下，执行构建命令：

```bash
$ fle build
```

编译完成后会将代码打包到`dist`目录，值得注意的是它不会先清空dist目录，原因有很多：定向编译会丢掉一部分页面；多人协作时，他人正在开发但未完成时，被编译发布了等等。因此综合考虑，保留先前编译的文件，保证线上页面正常运行，如果工程冗余文件过多，可以考虑手动清理并重新编译，但这一过程最好反复确认，以免出现线上问题。

默认会构建src下所有的页面，如果需要定向编译页面，可以指定参数：

```bash
$ fle build --target
```

执行以上命令来选择需要构建发布的页面。

如果在编译时需要将资源上传：

```bash
$ fle build --upload
```

执行以上命令会将页面文件（html、ftl）以外的文件上传，同时页面文件的资源路径指向上传后的地址，上传时图片会自动进行优化，若不需要可以将图片命名为`[名称].origin.[后缀]`，这样编译后的图片文件为原始图片大小。

查看页面构建时的依赖分析报告：

```bash
$ fle build --report
```

执行以上命令，在构建完成时会在浏览器打开分析报告，方便查看页面编译后的情况来进行优化。
